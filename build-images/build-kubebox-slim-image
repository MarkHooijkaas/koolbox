#!/usr/bin/env bash
set -eu

script_dir=$(dirname ${BASH_SOURCE[0]})

export KOOLBOX_BUILD_FROM=debian:trixie-slim
export KOOLBOX_IMAGE_NAME=kubebox
export KOOLBOX_BUILD_TAGS="superslim" # no python
export KOOLBOX_INSTALL_APT_PACKAGES="curl ca-certificates "
export KOOLBOX_INSTALL_SCRIPTS="apt-packages kubectl helm"

#source $script_dir/inc/kubebox-apt.inc

$script_dir/koolbox-image-builder "${@}"

export KOOLBOX_BUILD_FROM=kubebox:superslim
KOOLBOX_INSTALL_APT_PACKAGES="git jq netcat-openbsd net-tools openssh-client wget unzip zip python3"
KOOLBOX_INSTALL_SCRIPTS="apt-packages"
KOOLBOX_BUILD_TAGS="slim"
$script_dir/koolbox-image-builder "${@}"
